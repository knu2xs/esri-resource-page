---
date: 2025-04-11
---

# SitRep 11 Apr 2025

## 1 - Critical Timebound Completed

- Split updated Foursquare open source processing workflow to perform spatial overlay separately from rest of processing to reduce need for large cluster during entire workflow (reduces compute costs).
- Create step to create cached main dataset in Foursquare processing workflow, making it easier to create the three output datasets for quality assurance, software (Geoenrichment) and Basemaps.
- Meet with Stacy and establish priorities for transit updates.

## 2 - Other High Importance Completed

- Assist Andrew to create [logic for outputting formatted hours strings](https://gist.github.com/knu2xs/456364122840a71dfb704313970292a5) in Safegraph processing.
- Update Parquet import processing script to handle path to schema.csv file one level in directory, common when outputting from Spark, to simplify file geodatabase imports from Parquet datasets.
- Address issue when creating zipped archives as part of building feature classes from Foursquare Parquet datasets due to getting hung on `.lock` files.
- Investigating issue in transit data with null cartographic assignments inconsistent with data post adding NTM data, especially in Germany, so stepping back into NTM processing workflow.
- Update processing notes on BA-Data-Engineering transit Sharepoint to include hyperlink issues in Metrolink data with reference to script created to address Metrolink processing challenges.
- Update Foursquare open source processing to output all quality assurance flags into parquet dataset capable of being imported into a File Geodatabase for review.
- Execute full workflow for creating Foursquare sample (California and Great Britian) dataset with quality assurance flags as part of data processing workflow to ensure ready for April open-source data release.
- Reprocess datasetes to get updated, correct trip counts.
    - LA Metro (have to process bus and rail separately)
- Create Foursquare open-source summaries of days since refresh by category to evaluate variable temporal windows.
- Cross-check updated trip counts for LA Metro A Line against [published schedule](https://cdn.beta.metro.net/wp-content/uploads/2024/12/06090036/801_TT_12-15-24.pdf). Conclusion...needs more investigation, but this is a good example, because it has high volume traffic. Tabling, since this is not explicitly needed for next data release.
- Update group layer used by processing to utilize current symbology and pop-up from ArcGIS Online.
- Reprioritize GTFS issues and add new issues communicated by Stacy to board for discussion of priorities leading up to Design Summit.
- Perform spatial overlay step on Foursquare April data, the hardest step, and cache for follow on processing based on conclusions for adusting temporal windows based on categories.
- Fix geometry in NTM feature service cached data for `route_id=280` and `ntd_id=90146` (Foothill Transit).
- Scan across NTM lines in all other major metropolitan areas looking for other obvious geometry issues.
- Test solution for handling platforms (`(stop_type == '0') & (parent.isnotnull())`) to use Arcade in client (ArcGIS Online) instead of modifying data processing...ultimately decide modfiying data processing makes more sense.
- Update NTM partitioned dataset file geodatabase build script to add calculated UID to partition file geodatabases and run to add standardized universal identifiers to all data.
- Standardize workflow to look up quantitative metrics from calculated GTFS data and add to features collected from ArcGIS Online, and create NTM dataset with as _many_ records populated as possible.

## 3 - Shifting Priorities

#### Escalate

- Focus on public transit updates.

#### Diminish

- Shift Foursquare processing issues and April dataset processing until after public transit.
