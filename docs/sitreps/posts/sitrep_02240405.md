---
date: 2024-04-05
---

# SitRep 05 Apr 2024

## 1 - Critical Timebound Completed

- Improved Foursquare Timezone overlay workflow (it was failing on April data) to partition data using H3 level 4 due to failing steps with large
amounts of data being shuffled between nodes.
- Processed and created Foursquare main, summary, Geoenrichment and quality assurance datasets using April delivered data.

## 2 - Other High Importance Completed

- Help Dmitry Messin solve issue with automated retrieval of resources using Python (masquerade as a real browser using headers).
- Create help document for [using H3-Py with ArcGIS Pro](/add_h3_pro) for Stacy and anybody else who needs it.

## Notes:

- The timezone overlay was taking an excruciatingly long time, and was solved by partitioning the data by H3 resolution four. Previously, I was
partitioning by country, just to keep similar data on the same nodes. When viewing the monitoring dashboard, I saw nodes were dying due to memory
overruns. Certian countries simply have too much data for one node. Fortunately, it is easy to assign H3 indices on the fly in the workflow, so
I assign and partition the points by H3 resolution four indices. As part of the data preperation for the timezone polygons, I do an intersect with
the polygons for H3 resolution four. This produces far more, smaller, polygons. Then, when running the timezone overlay, I can use these 